import{_ as v,b as _,s as p,d as P,a as u,g as x,e as s,t as a,j as i,k as y,q as A,F as m,i as w,r as V,o as h,p as I,m as L}from"./index-RvlfNf1O.js";var E={VITE_APP_API_URL:"https://vue3-course-api.hexschool.io",VITE_APP_API_NAME:"paul7426",BASE_URL:"/Vue-2023-Week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_NAME:b,VITE_APP_API_URL:g}=E,N={data(){return{processAddCart:!1,isLoading:!1,product:{},addProductNum:""}},methods:{async getProductDetail(){var e,r;const{id:d}=this.$route.params;this.isLoading=!0;try{const o=await _.get(`${g}/v2/api/${b}/product/${d}`);o.data.success&&(this.product=o.data.product,this.isLoading=!1)}catch(o){this.isLoading&&(this.isLoading=!1);const t=((r=(e=o==null?void 0:o.response)==null?void 0:e.data)==null?void 0:r.message)??"出錯了٩(ŏ﹏ŏ、)۶";p(t)}},async addToCart(){var e,r;const d={data:{product_id:this.product.id,qty:+this.addProductNum}};try{this.processAddCart=!0;const o=await _.post(`${g}/v2/api/${b}/cart`,d);o.data.success&&(P(o.data.message),this.processAddCart=!1)}catch(o){this.processAddCart=!1;const t=((r=(e=o==null?void 0:o.response)==null?void 0:e.data)==null?void 0:r.message)??"出錯了٩(ŏ﹏ŏ、)۶";p(t)}}},mounted(){this.getProductDetail()}},n=d=>(I("data-v-5bdef7b6"),d=d(),L(),d),C={class:"row my-5"},k={class:"col-md-5 mb-3 mb-md-0"},S={class:"overflow-hidden rounded primary-image"},T=["src"],D={class:"col-md-7 flex-grow-1"},M={class:"card h-100 mb-3"},R={class:"card-body"},U={class:"card-title mb-4"},B={class:"badge bg-primary me-2"},q={class:"fw-bold h4"},F={class:"card-text mb-3 text-secondary"},O=n(()=>s("span",{class:"text-black fw-bold"},"商品描述：",-1)),j={class:"card-text mb-3 text-secondary"},W=n(()=>s("span",{class:"text-black fw-bold"},"商品內容：",-1)),z={class:"d-flex"},G={class:"card-text text-secondary me-1"},H={class:"card-text me-2"},J={class:"card-footer border-top-0 mb-2"},K={class:"input-group col-8"},Q=n(()=>s("option",{value:"",selected:"",disabled:"",class:"disabled"},"請選擇數量",-1)),X=["value"],Y=["disabled"];function Z(d,e,r,o,t,l){const f=V("VueLoading");return h(),u(m,null,[x(f,{active:t.isLoading},null,8,["active"]),s("div",C,[s("div",k,[s("div",S,[s("img",{src:t.product.imageUrl,class:"d-block w-100",alt:"主圖"},null,8,T)])]),s("div",D,[s("div",M,[s("div",R,[s("h5",U,[s("span",B,a(t.product.category),1),s("span",q,a(t.product.title),1)]),s("p",F,[O,i(a(t.product.description),1)]),s("p",j,[W,i(a(t.product.content),1)]),s("div",z,[s("p",G,[s("del",null,a(t.product.origin_price),1)]),s("p",H,a(t.product.price),1),i(" 元 / "+a(t.product.unit),1)])]),s("div",J,[s("div",K,[y(s("select",{name:"",class:"form-control text-secondary","onUpdate:modelValue":e[0]||(e[0]=c=>t.addProductNum=c)},[Q,(h(),u(m,null,w(15,c=>s("option",{value:c,key:"productNum"+c},a(c),9,X)),64))],512),[[A,t.addProductNum,void 0,{number:!0}]]),s("button",{type:"button",class:"btn btn-primary px-3 col-4",disabled:!t.addProductNum||t.processAddCart,onClick:e[1]||(e[1]=(...c)=>l.addToCart&&l.addToCart(...c))},"加入購物車",8,Y)])])])])])],64)}const ss=v(N,[["render",Z],["__scopeId","data-v-5bdef7b6"]]);export{ss as default};
